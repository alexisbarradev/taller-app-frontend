<div class="publish-form-area">
  <div class="form-container">
    <h2 class="form-title">{{ title }}</h2>
    <form class="product-form">
      <div class="form-group">
        <label for="titulo">Título:</label>
        <input id="titulo" name="titulo" [(ngModel)]="publicacion.titulo" required class="form-control" />
      </div>
      <div class="form-group">
        <label for="descripcion">Descripción:</label>
        <textarea id="descripcion" name="descripcion" [(ngModel)]="publicacion.descripcion" required class="form-control"></textarea>
      </div>
      <div class="form-group">
        <label>
          <input type="checkbox" [(ngModel)]="esGratis" (change)="toggleGratis()" /> Gratis
        </label>
      </div>
      <div class="form-group">
        <label for="precio">Precio:</label>
        <input id="precio" name="precio" type="number" [(ngModel)]="publicacion.precio" [disabled]="esGratis" required class="form-control" />
      </div>
      <div class="form-group">
        <label for="foto">Foto:</label>
        <input id="foto" name="foto" type="file" accept="image/*" (change)="onFileSelected($event)" class="form-control" required />
        <div *ngIf="foto === null && fotoIntentado && mostrarErrorFoto" class="alert alert-danger mt-2 p-2" role="alert">
          Debes seleccionar una imagen para publicar el producto.
        </div>
      </div>
      <div class="form-group" *ngIf="fotoPreview">
        <label>Previsualización:</label>
        <img [src]="fotoPreview" alt="Previsualización de la foto" style="max-width: 200px; max-height: 200px; display: block; margin: 0 auto; border: 1px solid #ccc; border-radius: 8px;" />
      </div>
      <div class="form-group" style="display: flex; gap: 1rem; justify-content: center;">
        <button type="button" class="submit-btn" (click)="onSubmit(1)">Publicar</button>
        <button type="button" class="submit-btn draft" (click)="onSubmit(2)">Guardar como borrador</button>
      </div>
    </form>
  </div>
</div> 