<div class="login-container">
  <div class="image-side"></div>
  <div class="form-side">
    <div class="form-box">
      <h1>TradingThings</h1>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <input
          formControlName="usuario"
          placeholder="Usuario"
          [class.invalid]="hasError('usuario')"
        />
        <div class="error-message" *ngIf="hasError('usuario')">
          Por favor, ingresa tu usuario.
        </div>

        <div class="password-field">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Clave"
            [class.invalid]="hasError('password')"
          />
          <button type="button" class="toggle-btn" (click)="togglePassword()" aria-label="Mostrar/Ocultar clave">
            <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>
            <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 012.293-3.95m3.362-2.7A9.956 9.956 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.965 9.965 0 01-4.293 5.03M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3l18 18" />
            </svg>
          </button>
        </div>
        <div class="error-message" *ngIf="hasError('password')">
          Por favor, ingresa tu clave.
        </div>

        <button type="submit" class="login-btn">Ingresar</button>
      </form>
      <a routerLink="/register" class="register-link">Registrarse</a>
      <a routerLink="/password-recovery" class="forgot-password">Â¿Olvidaste tu clave?</a>

      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    </div>
  </div>
</div>
